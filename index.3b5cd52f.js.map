{"mappings":"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","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const api_key =\n  'live_GOFdgZB1U3JaUt0QpXDdap3KE83KKlNjTSJr7mVB5lNxfONfeVEGI5Jzbqte4Tjx';\n\nconst selectField = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader')\nconst errorMessage = document.querySelector('.error')\nconst catInfo = document.querySelector('.cat-info');\nconst url = 'https://api.thecatapi.com/v1/breeds';\n\n/**\n  |============================\n  | ч. 1 - наповнення селекту\n  |============================\n*/\n\n\nfetchBreeds()\n  .then(render)\n  .catch(error => {\n    loader.classList.remove('is-visible')\n    errorMessage.classList.add('is-visible')\n    \n  });\n\nexport function fetchBreeds() {\n  loader.classList.add('is-visible')\n  return fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  }).then(response => {\n    return response.json();\n  })\n}\n\nfunction render(data) {\n  data = data.filter(img => img.image?.url != null);\n  const storedBreeds = data;\n\n  for (let i = 0; i < storedBreeds.length; i += 1) {\n    const breed = storedBreeds[i];\n    let option = document.createElement('option');\n\n    if (!breed.image) continue;\n\n    option.value = breed.id;\n    option.textContent = breed.name;\n    option.classList.add('option-breed');\n    selectField.append(option);\n    loader.classList.remove('is-visible')\n    selectField.classList.add('is-visible')\n  }\n}\n\n/**\n  |============================\n  | ч.2 - fetch на change по конкретній породі\n  |============================\n*/ \nlet page = 1\nselectField.addEventListener('change', onChange);\n\nfunction onChange(e) {\n  loader.classList.add('is-visible')\n   \n  const option = e.currentTarget;\n  const selectedOption = option.value;\n  \n  page +=1\n\n  fetchCatByBreed(selectedOption)\n    .then(renderBreed)\n    .catch(error => {\n      loader.classList.remove('is-visible')\n      selectField.classList.remove('is-visible')\n    errorMessage.classList.add('is-visible')\n    });\n   \n  if (page > 2) {\n    image.remove()\n    catText.remove()\n  }\n  \n}\n\nexport function fetchCatByBreed(breedId) {\n  \n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?page=${page}&breed_ids=${breedId}`,\n    {\n      headers: {\n        'x-api-key': api_key,\n      },\n    }\n  ).then(response => {\n    return response.json();\n  });\n}\n\nlet image\nlet catText\n\n\n\nfunction renderBreed(data) {\n\n  data = data.map(e => {\n\n    const catImage = e;\n    image = document.createElement('img');\n    image.src = `${catImage.url}`;\n    image.classList.add('cat-image');\n    catInfo.append(image);\n\n    const breeds = catImage.breeds;\n    for (const breed of breeds) {\n      catText = document.createElement('div')\n      catText.classList.add('cat-text')\n      catInfo.append(catText)\n\n      const name = document.createElement('h1');\n      name.textContent = `${breed.name}`;\n      name.classList.add('cat-name');\n      catText.append(name);\n\n      const descr = document.createElement('p');\n      descr.textContent = `${breed.description}`;\n      descr.classList.add('cat-descr');\n      catText.append(descr);\n\n      const temper = document.createElement('p');\n      temper.textContent = `${breed.temperament}`;\n      temper.classList.add('cat-temper');\n      catText.append(temper);\n      \n     const temperHeader = document.createElement('span')\n      temperHeader.textContent = 'Temperament: '\n      temperHeader.classList.add('temper-header')\n      temper.prepend(temperHeader)\n      loader.classList.remove('is-visible')\n    }\n  \n  });\n \n}\n\n\n","import axios from \"axios\";\n// axios.defaults.headers.common[\"x-api-key\"] = \"live_UvDgDUIngSta9lKqkpFib1CXVg8uWmV2uPCEslc7RNSyO9JtebuROI2VuCjBfzSA\";\n\n\nimport { fetchBreeds } from \"./cat-api\";\n\n// import { fetchCatByBreed } from \"./cat-api\";\nfetchBreeds()\n\n\n// fetchCatByBreed()\n"],"names":["$ae0c329fb0fb36dc$var$api_key","$ae0c329fb0fb36dc$var$selectField","document","querySelector","$ae0c329fb0fb36dc$var$loader","$ae0c329fb0fb36dc$var$errorMessage","$ae0c329fb0fb36dc$var$catInfo","$ae0c329fb0fb36dc$export$913382e0b15b5503","classList","add","fetch","headers","then","response","json","data","storedBreeds","filter","img","ref","image","url","i","length","breed","option","createElement","value","id","textContent","name","append","remove","catch","error","$ae0c329fb0fb36dc$var$image","$ae0c329fb0fb36dc$var$catText","$ae0c329fb0fb36dc$var$page","$ae0c329fb0fb36dc$var$renderBreed","map","e","catImage","src","concat","breeds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","descr","description","temper","temperament","temperHeader","prepend","err","return","addEventListener","selectedOption","currentTarget","breedId","$ae0c329fb0fb36dc$export$57b7d3a597416aa2"],"version":3,"file":"index.3b5cd52f.js.map"}