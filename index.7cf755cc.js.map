{"mappings":"AAAA,MAAMA,EACJ,wEACIC,EAAcC,SAASC,cAAc,iBACrCC,EAASF,SAASC,cAAc,WAChCE,EAAeH,SAASC,cAAc,UACtCG,EAAUJ,SAASC,cAAc,aAkBhC,SAASI,IAEd,OADAH,EAAOI,UAAUC,IAAI,cACdC,MAnBG,sCAmBQ,CAChBC,QAAS,CACP,YA1BJ,2EA4BGC,MAAKC,GACCA,EAASC,Q,CAyDpB,SAASC,EAAYC,GACnBA,EAAOA,EAAKC,KAAIC,IACd,MAAMC,EAAWD,EACXE,EAAQlB,SAASmB,cAAc,OACrCD,EAAME,IAAM,GAAGH,EAASI,MACxBH,EAAMZ,UAAUC,IAAI,aACpBH,EAAQkB,OAAOJ,GAEf,MAAMK,EAASN,EAASM,OACxB,IAAK,MAAMC,KAASD,EAAQ,CAC1B,MAAME,EAAUzB,SAASmB,cAAc,OACvCM,EAAQnB,UAAUC,IAAI,YACtBH,EAAQkB,OAAOG,GACf,MAAMC,EAAO1B,SAASmB,cAAc,MACpCO,EAAKC,YAAc,GAAGH,EAAME,OAC5BA,EAAKpB,UAAUC,IAAI,YACnBkB,EAAQH,OAAOI,GAEf,MAAME,EAAQ5B,SAASmB,cAAc,KACrCS,EAAMD,YAAc,GAAGH,EAAMK,cAC7BD,EAAMtB,UAAUC,IAAI,aACpBkB,EAAQH,OAAOM,GAEf,MAAME,EAAS9B,SAASmB,cAAc,KACtCW,EAAOH,YAAc,GAAGH,EAAMO,cAC9BD,EAAOxB,UAAUC,IAAI,cACrBkB,EAAQH,OAAOQ,GACf5B,EAAOI,UAAU0B,OAAO,a,KAnG9B3B,IACGK,MAkBH,SAAgBI,GAEd,MAAMmB,EADNnB,EAAOA,EAAKoB,QAAOC,I,IAAOC,EAAA,OAAkB,OAAT,QAATA,EAAAD,EAAIjB,aAAK,IAATkB,OAAA,EAAAA,EAAWf,IAAW,IAGhD,IAAK,IAAIgB,EAAI,EAAGA,EAAIJ,EAAaK,OAAQD,GAAK,EAAG,CAC/C,MAAMb,EAAQS,EAAaI,GAC3B,IAAIE,EAASvC,SAASmB,cAAc,UAE/BK,EAAMN,QAEXqB,EAAOC,MAAQhB,EAAMiB,GACrBF,EAAOZ,YAAcH,EAAME,KAC3Ba,EAAOjC,UAAUC,IAAI,gBACrBR,EAAYuB,OAAOiB,GACnBrC,EAAOI,UAAU0B,OAAO,cACxBjC,EAAYO,UAAUC,IAAI,c,KAhC3BmC,OAAMC,IACLzC,EAAOI,UAAU0B,OAAO,cACxB7B,EAAaG,UAAUC,IAAI,aAAa,IAuC5CR,EAAY6C,iBAAiB,UAE7B,SAAkB5B,GAChBd,EAAOI,UAAUC,IAAI,cACrB,MAAMgC,EAASvB,EAAE6B,eAYaC,EAXPP,EAAOC,MAYvBhC,MACL,gEAAgEsC,IAChE,CACErC,QAAS,CACP,YAAaX,KAGjBY,MAAKC,GACEA,EAASC,UAjBfF,KAAKG,GACL6B,OAAMC,IACLzC,EAAOI,UAAU0B,OAAO,cACxBjC,EAAYO,UAAU0B,OAAO,cAC/B7B,EAAaG,UAAUC,IAAI,aAAa,IAIrC,IAAyBuC,C,ICnEhCzC","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const api_key =\n  'live_GOFdgZB1U3JaUt0QpXDdap3KE83KKlNjTSJr7mVB5lNxfONfeVEGI5Jzbqte4Tjx';\nconst selectField = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader')\nconst errorMessage = document.querySelector('.error')\nconst catInfo = document.querySelector('.cat-info');\nconst url = 'https://api.thecatapi.com/v1/breeds';\n\n/**\n  |============================\n  | ч. 1 - наповнення селекту\n  |============================\n*/\n\n\nfetchBreeds()\n  .then(render)\n  .catch(error => {\n    loader.classList.remove('is-visible')\n    errorMessage.classList.add('is-visible')\n    \n  });\n\nexport function fetchBreeds() {\n  loader.classList.add('is-visible')\n  return fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  }).then(response => {\n    return response.json();\n  })\n}\n\nfunction render(data) {\n  data = data.filter(img => img.image?.url != null);\n  const storedBreeds = data;\n\n  for (let i = 0; i < storedBreeds.length; i += 1) {\n    const breed = storedBreeds[i];\n    let option = document.createElement('option');\n\n    if (!breed.image) continue;\n\n    option.value = breed.id;\n    option.textContent = breed.name;\n    option.classList.add('option-breed');\n    selectField.append(option);\n    loader.classList.remove('is-visible')\n    selectField.classList.add('is-visible')\n  }\n}\n\n/**\n  |============================\n  | ч.2 - fetch на change по конкретній породі\n  |============================\n*/\nselectField.addEventListener('change', onChange);\n\nfunction onChange(e) {\n  loader.classList.add('is-visible')\n  const option = e.currentTarget;\n  const selectedOption = option.value;\n  \n  fetchCatByBreed(selectedOption)\n    .then(renderBreed)\n    .catch(error => {\n      loader.classList.remove('is-visible')\n      selectField.classList.remove('is-visible')\n    errorMessage.classList.add('is-visible')\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?limit=1&breed_ids=${breedId}`,\n    {\n      headers: {\n        'x-api-key': api_key,\n      },\n    }\n  ).then(response => {\n    return response.json();\n  });\n}\n\nfunction renderBreed(data) {\n  data = data.map(e => {\n    const catImage = e;\n    const image = document.createElement('img');\n    image.src = `${catImage.url}`;\n    image.classList.add('cat-image');\n    catInfo.append(image);\n\n    const breeds = catImage.breeds;\n    for (const breed of breeds) {\n      const catText = document.createElement('div')\n      catText.classList.add('cat-text')\n      catInfo.append(catText)\n      const name = document.createElement('h1');\n      name.textContent = `${breed.name}`;\n      name.classList.add('cat-name');\n      catText.append(name);\n\n      const descr = document.createElement('p');\n      descr.textContent = `${breed.description}`;\n      descr.classList.add('cat-descr');\n      catText.append(descr);\n\n      const temper = document.createElement('p');\n      temper.textContent = `${breed.temperament}`;\n      temper.classList.add('cat-temper');\n      catText.append(temper);\n      loader.classList.remove('is-visible')\n    }\n  });\n}\n\n","import axios from \"axios\";\n// axios.defaults.headers.common[\"x-api-key\"] = \"live_UvDgDUIngSta9lKqkpFib1CXVg8uWmV2uPCEslc7RNSyO9JtebuROI2VuCjBfzSA\";\n\n\nimport { fetchBreeds } from \"./cat-api\";\n\n// import { fetchCatByBreed } from \"./cat-api\";\nfetchBreeds()\n\n\n// fetchCatByBreed()\n"],"names":["$6b5f202d1456c0af$var$api_key","$6b5f202d1456c0af$var$selectField","document","querySelector","$6b5f202d1456c0af$var$loader","$6b5f202d1456c0af$var$errorMessage","$6b5f202d1456c0af$var$catInfo","$6b5f202d1456c0af$export$913382e0b15b5503","classList","add","fetch","headers","then","response","json","$6b5f202d1456c0af$var$renderBreed","data","map","e","catImage","image","createElement","src","url","append","breeds","breed","catText","name","textContent","descr","description","temper","temperament","remove","storedBreeds","filter","img","ref","i","length","option","value","id","catch","error","addEventListener","currentTarget","breedId"],"version":3,"file":"index.7cf755cc.js.map"}